<?xml version="1.0"?>

<!-- Ref:
    http://gazebosim.org/tutorials/?tut=ros_urdf
    http://answers.gazebosim.org/question/13506/preventing-bouncing-of-object/
    -->

<robot xmlns:xacro="http://www.ros.org/wiki/xacro">

    <!-- Corpo -->
    <gazebo reference="corpo">
        <mu1 value="0.01"/>
        <mu2 value="0.01"/>
        <kp value="100.0" />
        <kd value="1000.0" />
        <material>Gazebo/White</material>
    </gazebo>

    <!-- Chapeu -->
    <gazebo reference="chapeu_link">
        <mu1 value="0.01"/>
        <mu2 value="0.01"/>
        <kp value="100.0" />
        <kd value="1000.0" />
    </gazebo>

    <!-- Rodas -->
    <xacro:macro name="roda" params="side">
        <gazebo reference="roda_${side}_link">
            <mu1 value="20.0"/>
            <mu2 value="20.0"/>
            <kp value="100.0" />
            <kd value="1.0" />
            <material>Gazebo/Green</material>
        </gazebo>
    </xacro:macro>

    <xacro:roda side="esq"/>
    <xacro:roda side="dir"/>

    <xacro:include filename="$(find vss_simulation)/urdf/vss_team.xacro" />

    <!-- Load gazebo plugin to control the robot -->
    <gazebo>
        <plugin name="gazebo_ros_control" filename="libgazebo_ros_control.so">
        <robotNamespace>/robot_$(arg robot_number)</robotNamespace>
        </plugin>
    </gazebo>
</robot>